#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ 

// СтандартныеПодсистемы.УправлениеДоступом

Процедура ПередЗаписью(Отказ, Замещение)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если Количество() <= 0 Тогда
		Возврат;
	КонецЕсли;
		
	НовыеИсполнителиЗадач = Выгрузить();
	УстановитьПривилегированныйРежим(Истина);
	ГруппыИсполнителейЗадач = БизнесПроцессыИЗадачиСервер.ГруппыДоступаЗадач(НовыеИсполнителиЗадач);
	УстановитьПривилегированныйРежим(Ложь);
	Индекс = 0;
	Для каждого Запись Из ЭтотОбъект Цикл
		Запись.ГруппаИсполнителейЗадач = ГруппыИсполнителейЗадач[Индекс];
		Индекс = Индекс + 1;
	КонецЦикла
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ, Замещение)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	УправлениеДоступом.ЗаписатьГруппыИВидыДоступа(Справочники.ГруппыПользователей.ВсеПользователи);
	
КонецПроцедуры

// Конец СтандартныеПодсистемы.УправлениеДоступом

#КонецЕсли